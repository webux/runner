/*
* uxRunner v.0.1.1
* (c) 2014, WebUX
* License: MIT.
*/
!function(a){function b(a,b,c){function d(a,b){var c,d;d=h[a],d&&(b?(c=d.indexOf(b),-1!==c&&d.splice(c,1)):d.length=0)}function e(a,b){return h[a]=h[a]||[],h[a].push(b),function(){d(a,b)}}function f(b,c){return b&&b.apply(a,c)}function g(a){if(h[a])for(var b=0,c=h[a],d=c.length;d>b;)f(c[b],arguments),b+=1}var h={};b&&c?(a.on=b[c.on]&&b[c.on].bind(b),a.off=b[c.off]&&b[c.off].bind(b),a.dispatch=b[c.dispatch].bind(b)):(a.on=e,a.off=d,a.dispatch=g)}function c(a){for(var b=[],c=0,d=a.length;d>c;)b.push(a[c]),c+=1;return b}function d(){bb.debug&&console.log.apply(console,arguments)}function e(){bb.dispatcher?bb.dispatcher.dispatch.apply(bb.dispatcher,arguments):bb.dispatch.apply(bb,arguments)}function f(){ib.window=ib.window||window,ib.rootElement=ib.rootElement||$(ib.window.document),cb=bb.getInjector&&bb.getInjector()||{invoke:E},bb.locals.injector=cb,bb.locals.$=function(a){var b=bb.options.window;return b.$?b.$(a):$(a)},$.extend(bb.locals.$,$)}function g(){f(),bb.walking=!1,bb.exit=!1,j()}function h(a,b){var c;a.XMLHttpRequest&&(c=new XMLHttpRequest),c.open("GET",b,!1),c.send();var d=a.document.createElement("script");d.type="text/javascript",d.text=c.responseText,a.document.getElementsByTagName("body")[0].appendChild(d)}function i(){var a=bb.options.window;if(!a.$&&a.angular.element)for(var b in $.prototype)a.angular.element.prototype[b]=$.prototype[b];a.$||h(a,"//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js")}function j(){i(),bb.inPageMethods.length&&(m(bb.inPageMethods,function(a){a.apply(bb.options.window,[])}),bb.inPageMethods.length=0)}function k(){var a={name:"all",type:kb.ROOT,label:"E2E Tests",parent:{type:kb.ROOT,depth:0,next:function(){d("All Complete"),e(hb.DONE)}}};db=n(a),a.depth=0,eb=db}function l(a,b){for(var c="";c.length<b;)c+=a;return c}function m(a,b,c){var d,e,f=0;if(a.length)for(d=a.length;d>f;){if(e=b(a[f],f,a,c),void 0!==e)return e;f+=1}else for(f in a)if(a.hasOwnProperty(f)&&(e=b(a[f],f,a,c),void 0!==e))return e;return a}function n(a){function b(a){r.push(a)}function c(){return a.state=jb.RUNNING,eb=a,a.startTime=Date.now(),a.parent&&(a.exit=t=a.parent.exit,u="(EXIT: exit inherited.)"),a.parent&&a.parent.element&&(a.element=a.parent.element),e(hb.STEP_START,a),d("%sRUN:%s: %s",l("	",a.depth),a.type,a.label),j(),a}function f(){return bb.walking&&e(hb.STEP_UPDATE,a),(q=r[s])?(s+=1,q.run(),void 0):(g(),void 0)}function g(){a.state!==jb.COMPLETE&&(a.state=jb.COMPLETE,d("%sCOMPLETE:%s: %s",l("	",a.depth),a.type,a.label),e(hb.STEP_END,a)),a.onComplete&&a.onComplete(),a.parent.next()}function h(b){return cb.invoke(b,a,gb)}function i(a){return a?!!h(a):!0}function j(){if(t)a.label+="(EXIT: "+u+")",a.pass=!1,a.repeat=0;else if(nb&&(ob.push({label:a.label,type:a.type}),a.repeat=0),!nb||a.type!==kb.STEP&&a.type!==kb.SCENE)try{h(a.method),a.pass=nb?!0:i(a.validate)}catch(b){a.pass=nb||!1,a.label+=" ERROR: "+b.message,console.error(b.message)}else a.pass=!0;if(a.count+=1,a.timedOut=!w(a),a.repeat>a.count&&!a.pass&&!a.timedOut)d("%s%s: checking %s",l("	",a.depth),a.type,a.label),clearTimeout(fb),e(hb.STEP_UPDATE,a),k(a,j);else{if(d('%s%s: %s, value:"%s" (%s)',l("	",a.depth),a.type,a.label,a.value,a.pass?"pass":"fail"),mb=a,bb.pauseOnFail&&!a.pass&&(S(),e(hb.STEP_UPDATE,a)),bb.walking)return e(hb.STEP_PAUSE,a),void 0;clearTimeout(fb),e(hb.STEP_UPDATE,a),k(a,f)}}function k(a,b){ib.async?fb=a.type===kb.STEP&&a.steps&&a.steps.length?setTimeout(b,ib.chainInterval):setTimeout(b,ib.interval):b()}function m(b,c,d,e){c=c||function(){};var f={type:kb.STEP,parentType:kb.STEP,repeat:1,label:b||"CUSTOM",value:void 0,method:function(){return f.element=a.element,f.value=f.exec(c),f},validate:function(){return"boolean"==typeof d?d:d?f.exec(d):!0},timeout:e||ib.interval};return p(f,f.parent),f}function n(b,c,d){var e={type:kb.STEP,parentType:kb.STEP,repeat:1,label:b||"UNTIL",value:void 0,method:function(){return e.element=a.element,e},validate:function(){var a=c?e.exec(c):!0;return w(e)&&!a&&(e.repeat+=1),a},timeout:d||ib.interval};return p(e,e.parent),e}function o(){a.isDone=!0,a.repeat=0}var q,r=[],s=0,t=!1,u="",v=[kb.SCENARIO,kb.ROOT];for(a.type===kb.ROOT?v=[kb.ROOT]:a.type===kb.STEP&&(v=[kb.SCENE,kb.STEP]);a.parent&&-1===v.indexOf(a.parent.type);)a.parent=a.parent.parent;return a.parent||a.type===kb.ROOT||(bb.exit=a.exit=t=!0,u="Unable find step parent. Most likely caused by improper organization. Such as adding a find inside a scenario instead of inside a step."),a.id=Math.uuid(),a.state=jb.DORMANT,a.type=a.type||kb.STEP,a.label=a.label||"no label",a.timeout=a.timeout||ib.defaultTimeout,a.method=a.method||function(){},a.validate=a.validate||function(){return!0},a.repeat=a.repeat||1,a.count=0,a.add=b,a.run=c,a.next=f,a.custom=m,a.until=n,a.done=o,a.exec=h,a.steps=r,a.depth=a.parent?a.parent.depth+1:0,a}function o(a){return a.type=a.type||kb.STEP,a.parent=a.parent||eb,a.parent.add(n(a)),a}function p(a,b){return a.type=kb.STEP,a.parent=b||eb,o(a),z(a),a}function q(a,b){o({type:kb.SCENARIO,parentType:kb.SCENARIO,label:a,method:b})}function r(a,b,c,d){o({type:kb.SCENE,parentType:kb.SCENARIO,label:a,method:b,validate:c,timeout:d})}function s(a,b){var c={type:eb.type===kb.STEP||eb.type===kb.SCENE?kb.STEP:kb.SCENE,parentType:eb.type,label:a,method:function(){},validate:b};return eb.type===kb.STEP?p(c,eb):o(c)}function t(a){a=a||ib.interval,o({type:kb.STEP,parentType:kb.SCENE,label:"wait "+a+"ms",method:null,repeat:1e4,validate:function(){return!w(this,!0)},timeout:a})}function u(a,b,c){o({type:kb.STEP,parentType:kb.SCENE,label:"wait for "+a,method:null,repeat:1e4,validate:b,timeout:c})}function v(a,b){var c={type:kb.STEP,parentType:kb.SCENE,label:'wait for "'+a+'" event.',repeat:1e4,scope:null,method:function(){c.scope||(c.element=c.parent.element||ib.rootElement,c.scope=c.element.scope(),c.scope.$on(a,function(){c.ngEvent=!0}))},validate:function(){return!!c.ngEvent},timeout:b||ib.timeouts.short};o(c)}function w(a,b){return a.timeout+a.startTime-(b?ib.interval:0)>Date.now()}function x(a,b,c,d){"trigger"===c&&(a.label='trigger "'+d[0].toUpperCase()+'"')}function y(a,b,c){return function(){var d=arguments,e={label:b.toUpperCase(),value:void 0,timeout:ib.interval,method:function(){var a=e.element;if(a){if(!a[b])throw new Error('Method "'+b+'" is not supported yet.');x(e,a,b,d),a[b].apply(a,d),c&&(e.value=a[b].apply(a,[]))}return e},validate:function(){return e.element&&e.element.length?c&&d.length?e.value===d[0]:!0:!1}};return p(e,a),e}}function z(a){A(a),B(a),m(bb.elementMethods,C,a)}function A(a){for(var b=0,c=bb.jqMethods.length;c>b;)a[bb.jqMethods[b]]=y(a,bb.jqMethods[b]),b+=1}function B(a){for(var b=0,c=bb.jqAccessors.length;c>b;)a[bb.jqAccessors[b]]=y(a,bb.jqAccessors[b],!0),b+=1}function C(a,b,c,d){"function"==typeof a?a(d):d[a.name]=a.method(d)}function D(a,b,c){var d="function"==typeof a?"(custom method)":a;c=c||'find: "'+d+'"';var e={type:kb.STEP,parentType:kb.SCENE,repeat:1e4,label:c,value:void 0,method:function(){return e.value=e.element=ib.rootElement.find("function"==typeof a?e.exec(a):a),e},validate:function(){var a=!!e.value.length;return e.label=a?c:'could not find "'+d+'"',a},timeout:b};return p(e),e}function E(a,b,c){var d=F(a,c);return a.apply(b,d.args)}function F(a,b){var c=a.toString(),d={map:{},args:[],locals:b},e=c.match(/\(.*\)/)[0].match(/([\$\w])+/gm);return e&&e.length&&m(e,G,d),d}function G(a,b,c,d){d.map[a]=d.locals[a]||window[a],d.args.push(d.map[a])}function H(a,b){return lb.push({name:a,scenario:b}),b}function I(){lb.length=0,bb.scenarios={}}function J(a){bb.options=$.extend(ib,a)}function K(){var a=[];return m(lb,function(b){a.push(b.name)}),a}function L(a){return a=a.toLowerCase(),m(lb,function(b){return b.name.toLowerCase()===a?b:void 0})}function M(a){a="string"!=typeof a?a:L(a),o({type:kb.SCENARIO,parentType:kb.ROOT,label:"SCENARIO: "+a.name,method:a.scenario})}function N(){for(var a=0,b=lb.length;b>a;)M(lb[a]),a+=1}function O(a){pb=arguments,bb.stop&&bb.stop(),g(),!nb&&bb.onStart&&bb.onStart(),e(hb.START),d("run"),k(),a?m(arguments,M):N(),eb.run()}function P(){O.apply(this,pb)}function Q(){O.apply(bb,arguments),S()}function R(){mb.next()}function S(){bb.walking=!0}function T(){bb.walking=!1,R()}function U(b,c){var d=0,e=a.util.array.toArray(arguments);for(e.shift(),e.shift();c>d;)b.apply({},[d].concat(e)),d+=1}function V(a,b,c,d){b=b||0,c=c||eb;var e=!1,f=function(){e=!0},g={type:kb.SCENE,parentType:kb.SCENARIO,label:"repeatUntil",parent:c,method:function(){},validate:function(){return cb.invoke(a,g,$.extend({count:b,done:f},gb)),e&&"repeatUntil"===g.label&&(g.label="repeatUntil - END"),void 0!==g.pass?g.pass:!0},onComplete:function(){nb&&(e=!0),e||V(a,b+1,c,g)},timeout:ib.interval};g.type=g.type||kb.STEP,g.parent=g.parent||eb,d?c.steps.splice(c.steps.indexOf(d)+1,0,n(g)):c.add(n(g)),g.done=f}function W(a){var b=ib.async;return ob=[],nb=!0,ib.async=!1,O(a),nb=!1,ib.async=b,ob}function X(a){var b=[];return Y(lb.slice(0),b,a),b}function Y(a,b,c){var d=W(a.shift());d.shift(),m(d,function(a){b.push(a)}),a.length&&setTimeout(Y,0,a,b,c),c&&c(b,a.length)}function Z(){function a(a){a.preventDefault(),a.stopImmediatePropagation()}function b(){$(".runner-overlay").length&&q(),H=0,I=0,B=$('<div class="runner-overlay"><div class="runner-title">RUNNER <div class="runner-button-bar"><a href="javascript:void(0)" class="runner-close runner-button" title="Close Runner">X</a> <a href="javascript:void(0)" class="runner-restart runner-button" title="Restart last run">&#x21bb;</a> <a href="javascript:void(0)" class="runner-pause runner-button" title="Pause Runner">||</a> <a href="javascript:void(0)" class="runner-next runner-button" title="Step Forward">&#x25B6;|</a> <a href="javascript:void(0)" class="runner-resume runner-button" title="Resume">&#x25B6;</a> <span class="runner-interval-label">Speed:</span><input type="text" class="runner-interval" disabled> <a href="javascript:void(0)" class="runner-plus runner-button" title="Increase Speed">+</a> <a href="javascript:void(0)" class="runner-minus runner-button" title="Decrease Speed">-</a> <a href="javascript:void(0)" class="runner-details runner-button" title="Click to show or hide details.">?</a> <a href="javascript:void(0)" class="runner-minimize runner-button" title="Click to minimize the runner.">_</a> </div> <a href="javascript:void(0)" class="runner-complete"></a> </div><div class="runner-clear"></div><div class="runner-scroller"><div class="runner-content'+(bb.compact?" compact":"")+'"><div class="runner-content-title-spacer"></div></div></div><div class="runner-highlight-container"></div></div>'),C=B.find(".runner-content"),B.click(a),B.mousedown(function(){K=!0}),B.mouseup(function(){K=!1}),$(document).blur(function(b){K&&a(b)}),D=$('<div class="runner-highlighter"></div>'),F=$('<div class="runner-tooltip"><div class="runner-tooltip-arrow"></div><div class="runner-tooltip-content"></div></div>'),$("body").append(B),E=$(".runner-highlight-container"),E.append(D),E.append(F),e(),z()}function c(){ux.runner.walking?$(".runner-resume").removeClass("unpaused").addClass("paused"):$(".runner-resume").removeClass("paused").addClass("unpaused")}function d(){$(".runner-interval").val(ux.runner.options.interval)}function e(){var a,b=$("#targetFrame");b.length?(bb.options.frame&&b.css(bb.options.frame),a=b.offset(),a.position="absolute",a.width=b.width(),a.height=b.height(),E.css(a)):E.css({position:"absolute",top:0,left:0,width:"100%",height:"100%"})}function f(a){var b=a.element;if(c(),d(),e(),h(a,!1,F.find(".runner-tooltip-content")),b&&b.length&&b.offset()){var f=b.offset();D.removeClass("runner-highlighter-empty"),D.css({top:f.top,left:f.left,width:b.width(),height:b.height()}),F.css({top:f.top+b.height(),left:f.left+b.width()-F.width()})}else D.addClass("runner-highlighter-empty")}function g(a){return a&&a.type===ux.runner.types.STEP}function h(a,b,c){var d=g(a.parent)&&g(a);c.html((d&&" - "||"")+'<span class="runner-step-label">'+a.label+"</span>"+(a.count>1?' <span class="runner-step-count" title="repeat count">'+a.count+"</span>":"")+(a.timedOut?' <span class="runner-timed-out" title="timeout">timeout</span>':"")+(b?' <span class="runner-step-paused runner-step-paused-'+(a.pass?"pass":"fail")+'" title="paused">paused'+(bb.pauseOnFail&&!a.pass?" on fail":"")+"</span>":""))}function i(a,b){if(f(b),!$("#"+b.id).length){var c=g(b.parent),d=c?4:20*b.depth,e=g(b);e&&G&&G.depth>=b.depth&&b.parent&&b!==b.parent.steps[0]&&C.append('<div class="runner-break"></div>'),C.append('<div id="'+b.id+'" class="runner-pending runner-'+b.type+(e?"-chain":"")+'" style="margin-left: '+d+'px;margin-right: 0px;"></div>'),h(b,!1,$("#"+b.id))}}function j(a,b){t(),h(b,!0,$("#"+b.id)),f(b)}function k(a,b){b.count>1&&h(b,!1,$("#"+b.id)),f(b),n()}function l(a,b){var c=$("#"+b.id);c.addClass("runner-"+(b.pass?"pass":"fail")),c.attr("title",b.label),h(b,!1,$("#"+b.id)),f(b),o(),G=b,m(b)}function m(a){a.pass?H+=1:I+=1,n()}function n(a){var b=$(".runner-complete");b.removeClass("passed"),b.removeClass("failed"),b.removeClass("passed"),bb.walking?b.addClass("paused"):I?b.addClass("failed"):b.addClass("passed"),a&&b.addClass("done"),b.html(H+" steps passed, "+I+" failed."+(a?" complete":bb.walking?" paused":" running"))}function o(){B.find(".runner-scroller").scrollTop(C.height())}function p(){o(),n(!0)}function q(){B&&($(".runner-overlay").remove(),C=null,B=null,D=null,E=null,F=null,G=null,A())}function r(){B&&(q(),ux.runner.pause())}function s(){B.toggleClass("minimize")}function t(){C.removeClass("compact")}function u(){C.addClass("compact")}function v(){return C.hasClass("compact")?t():u()}function w(){ux.runner.options.interval+=L}function x(){ux.runner.options.interval-=L,ux.runner.options.interval<L&&(ux.runner.options.interval=L)}function y(){q(),ux.runner.pause(),ux.runner.restart()}function z(){bb.on(bb.events.START,b),bb.on(bb.events.STEP_START,i),bb.on(bb.events.STEP_UPDATE,k),bb.on(bb.events.STEP_END,l),bb.on(bb.events.STEP_PAUSE,j),bb.on(bb.events.DONE,p),$(".runner-close").click(bb.stop),$(".runner-restart").click(y),$(".runner-pause").click(bb.pause),$(".runner-next").click(bb.next),$(".runner-resume").click(bb.resume),$(".runner-details").click(v),$(".runner-minimize").click(s),$(".runner-plus").click(w),$(".runner-minus").click(x)}function A(){bb.off(bb.events.START,b),bb.off(bb.events.STEP_START,i),bb.off(bb.events.STEP_UPDATE,k),bb.off(bb.events.STEP_END,l),bb.off(bb.events.STEP_PAUSE,j),bb.off(bb.events.DONE,p),$(".runner-close").unbind("click",bb.stop),$(".runner-restart").unbind("click",y),$(".runner-pause").unbind("click",bb.pause),$(".runner-next").unbind("click",bb.next),$(".runner-resume").unbind("click",bb.resume),$(".runner-details").unbind("click",v),$(".runner-minimize").unbind("click",s),$(".runner-plus").unbind("click",w),$(".runner-minus").unbind("click",x)}var B,C,D,E,F,G,H,I,J={},K=!1,L=10;return J.start=b,J.stepStart=i,J.stepEnd=l,J.done=p,bb.stop=r,bb.onStart=b,J}function _(a,b){this.el=a=ux.runner.locals.$(a),a.scope&&(this.scope=a.scope());var c="text password number email url search tel";this.isEditable=/textarea|select/i.test(a[0].nodeName)||a[0].type&&c.indexOf(a[0].type.toLowerCase())>-1,this.isEditable&&(this.selStart=a.getSelectionStart()||0,this.selEnd=a.getSelectionEnd()||a.val().length,a.setSelection(this.selStart,this.selEnd),this.cursorPosition=this.selEnd),this.capsLocked=!1,b&&this.lock()}function ab(a,b){var c={label:"sendKeys "+a,method:function(){c.element.length&&_.exec(c.element,a)},validate:function(){if(!c.element.length)return c.label="sendKeys failed because there is no element selected.",!1;if(b){var a="ng-model",d=c.element.attr(a)||c.element.attr("data-"+a);return c.value=d?c.element.scope().$eval(d):c.element.val(),c.value+""==b+""}return!0}};return c}!function(a){function b(b,c){var d,e,f,g=0;if(arguments.length>2&&(f=a.util.array.toArray(arguments),f.splice(0,2)),b&&b.length)for(d=b.length;d>g;){if(e=c.apply(null,[b[g],g,b].concat(f)),void 0!==e)return e;g+=1}else if(!(b instanceof Array))for(g in b)if(b.hasOwnProperty(g)&&(e=c.apply(null,[b[g],g,b].concat(f)),void 0!==e))return e;return b}function c(b,c){var d,e,f,g=0,h=[];if(arguments.length>2&&(e=a.util.array.toArray(arguments),e.splice(0,2)),b&&b.length)for(d=b.length;d>g;)f=c.apply(null,[b[g],g,b].concat(e)),f&&h.push(b[g]),g+=1;else for(g in b)b.hasOwnProperty(g)&&(f=c.apply(null,[b[g],g,b].concat(e)),f&&h.push(b[g]));return h}function d(a){var b=[],c=0,d=a.length;if(void 0!==a.length)for(;d>c;)b.push(a[c]),c+=1;else for(c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}function e(a,b){var c,d,e,f,g;for(b||(b=function(a,b){return a>b?1:b>a?-1:0}),d=a.length,f=d-1,c=0;d>c;c+=1)for(e=0;f>e;e+=1)b(a[e],a[e+1])>0&&(g=a[e+1],a[e+1]=a[e],a[e]=g);return a}a.each=b,a.filter=c,a.file=a.file||{},a.file.getContents=function(a,b,c,d){var e;if(d=d||window,d.XMLHttpRequest&&(e=new XMLHttpRequest),e.open(c||"GET",a,!!b),e.send(),b)throw new Error("Incomplete");return e.responseText},a.util=a.util||{},a.util.array=a.util.array||{},a.util.array.toArray=d,a.util.array.sort=e,a.selector=function(){function b(a,b){b=b||y.config.doc.body;var c,d,e=/:eq\((\d+)\)$/,f=a.match(e);return f&&f.length&&(a=a.replace(e,""),d=f[1]),c=b.querySelectorAll(a),c&&void 0!==d?c[d]:c}function c(c,d){if(e(c)){for(var g,i,k,l=j(d),m=y.config.doc.body,n=h(c,m,l,null,!0);n.count>n.totalCount;)n=n.parent;if(n=n.parent||n,k=n.str||p(n),n.str)for(var o=n.child;o;)k+=" "+o.str,o=o.child;return(n.count>1||n.child&&n.child.count)&&(g=a.util.array.toArray(b(k,m)),i=g.indexOf(c),k+=":eq("+i+")"),k+=f()}return""}function d(a,b,c){if(e(a)){var d=j(c),g=h(a,b,d);return p(g)+f()}return""}function e(a){if(!a)return"";if(a&&a.length)throw new Error("selector can only build a selection to a single DOMElement. A list was passed.");return!0}function f(){return y.config.addVisible?":visible":""}function g(a,b){return"string"==typeof b&&b===a?!0:"object"==typeof b&&a.match(b)?!0:!1}function h(a,b,c,d,e){var f;return a?(b=b||y.config.doc,f={element:a,ignoreClass:c,maxParent:b,classes:k(a,c),attributes:l(a,d),type:a.nodeName&&a.nodeName.toLowerCase()||"",child:d},(!f.attributes.$unique||d)&&(e?(f.str=p(f,0,null,!0),f.count=b.querySelectorAll(f.str).length,f.count>1&&(f.parent=r(a,b,c,f,e))):f.parent=r(a,b,c,f,e)),f):""}function i(a){return"number"!=typeof a}function j(a){return a=a||[],"function"==typeof a?a:function(b){if(a instanceof Array)for(var c=0,d=a.length;d>c;){if(g(b,a[c]))return!1;c+=1}else if(g(b,a))return!1;return!0}}function k(a,b){var c=ux.filter(a.classList,i);return c=ux.filter(c,x),ux.filter(c,b)}function l(a){var b,c=0,d=a.attributes?a.attributes.length:0,e=[],f=n(a.attributes);if(f&&("id"===f.name&&y.config.allowId?e.push("#"+f.value):"id"!==f.name&&e.push(m(f)),e.length))return e.$unique=!0,e;if(y.config.allowAttributes)for(;d>c;)b=a.attributes[c],u[b.name]||v[b.name]||e.push(m(b)),c+=1;return e}function m(a){return"["+a.name+"='"+o(a.value)+"']"}function n(a){for(var b,c=0,d=a?a.length:0;d>c;){if(b=a[c],v[b.name])return b;c+=1}return null}function o(a){return a.replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function p(a,b,c,d){var e,f,g;return b=b||0,f=a&&!a.attributes.$unique?p(a.parent,b+1):"",a&&(f+=(f.length?" ":"")+q(a)),b||d||(g=c||a.maxParent,e=g.querySelectorAll&&g.querySelectorAll(f)||[],e.length>1&&(f+=":eq("+s(e,a.element)+")")),f}function q(a){return a.attributes.$unique?a.attributes[0]:a.type+a.attributes.join("")+(a.classes.length?"."+a.classes.join("."):"")}function r(a,b,c,d,e){var f=a.parentNode;return f&&f!==b?h(a.parentNode,b,c,d,e):null}function s(a,b){var c,d=a.length;for(c=0;d>c;c+=1)if(b===a[c])return c;return-1}function t(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(a[b]);return c}var u,v,w,x,y;return y={config:{doc:window.document,allowId:!0,allowAttributes:!0,addVisible:!1},query:b,addOmitAttrs:function(){return a.each(arguments,function(a){u[a]=!0}),this},removeOmitAttrs:function(){return a.each(arguments,function(a){delete u[a]}),this},getOmitAttrs:function(){return t(u)},resetOmitAttrs:function(){u={"class":!0,style:!0}},addUniqueAttrs:function(){return a.each(arguments,function(a){v[a]=!0}),this},removeUniqueAttrs:function(){return a.each(arguments,function(a){delete v[a]}),this},getUniqueAttrs:function(){return t(v)},resetUniqueAttrs:function(){v={id:!0,uid:!0}},addClassOmitFilters:function(){return a.each(arguments,function(a){w.push(a)}),x=j(w),this},removeClassOmitFilters:function(){return a.each(arguments,function(a){var b=w.indexOf(a);-1!==b&&w.splice(b,1)}),x=j(w),this},getClassOmitFilters:function(){return w.slice(0)},resetClassOmitFilters:function(){w=[],x=j(w)},get:c,getCleanSelector:c,quickSelector:d,reset:function(){y.resetOmitAttrs(),y.resetUniqueAttrs(),y.resetClassOmitFilters()}},y.reset(),y}()}(this.ux=this.ux||{},function(){return this}()),a.util=a.util||{},a.util.array=a.util.array||{},a.util.array.toArray=c;var bb,cb,db,eb,fb,gb={},hb={START:"runner:start",STEP_START:"runner:stepStart",STEP_UPDATE:"runner:stepUpdate",STEP_END:"runner:stepEnd",STEP_PAUSE:"runner:stepPause",DONE:"runner:done"},ib={async:!0,interval:100,chainInterval:10,defaultTimeout:1e3,frame:{top:0,left:0,width:"100%",height:"100%"},timeouts:{mini:100,"short":1e3,medium:1e4,"long":3e4,forever:6e4}},jb={DORMANT:"dormant",RUNNING:"running",COMPLETE:"complete"},kb={ROOT:"root",SCENARIO:"scenario",SCENE:"scene",STEP:"step"},lb=[],mb=null,nb=!1,ob=[],pb=[];if(!Math.uuid){var qb=0;Math.uuid=function(){qb+=1;for(var a=qb.toString(36).toUpperCase();a.length<6;)a="0"+a;return a}}n.DORMANT=0,n.RUNNING=1,n.COMPLETE=2,bb={getInjector:null,compact:!0,debug:!1,config:J,exit:!1,restart:P,run:O,walk:Q,walking:!1,pauseOnFail:!0,next:R,pause:S,resume:T,addScenario:H,clearScenarios:I,getScenarioNames:K,describeScenario:W,describeScenarios:X,types:kb,events:hb,states:jb,createStep:o,createElementStep:p,elementMethods:[],scenarios:{},locals:gb,dispatcher:null,each:m,repeat:U,inPageMethods:[],jqMethods:["focus","blur","click","mousedown","mouseover","mouseup","select","touchstart","touchend","trigger","hasClass","closest","find"],jqAccessors:["val","text","html","scrollTop"]},gb.scenario=q,gb.repeatUntil=V,gb.scene=r,gb.assert=s,gb.find=D,gb.options=ib,gb.wait=t,gb.waitFor=u,gb.waitForNgEvent=v,gb.repeat=U,gb.$=null,b(bb),a.runner=bb,$("body").ready(function(){bb.options&&bb.options.autoStart&&("function"==typeof bb.options.autoStart?(f(),bb.options.autoStart.apply(bb,[])):setTimeout(bb.run,1e3))}),Z(),bb.elementMethods.push(function(a){a.scrollUp=function(b){return a.custom("scrollUp",function(){return a.element.scrollTop(a.element.scrollTop()-b)})},a.scrollDown=function(b){return a.custom("scrollDown",function(){return a.element.scrollTop(a.element.scrollTop()+b)})}}),_.exec=function(a,b){var c,d,e=new _(a),f=b.match(/"[^"]+"|\w+/gim),g=0,h=f.length;for(e.lock();h>g;)d=f[g],c=d.match(/[^"]+/gim)[0],"delete"===c&&(c="del"),"function"==typeof e[c]?e[c]():e.type(c),e.release(),g+=1};var rb=_.prototype;rb.checkShiftKey=function(a){var b=a.toUpperCase();return b===a?!0:!1},rb.key={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,"*":106,"+":107,"-":109,".":110,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,"=":187,",":188,"/":191,"\\":220},rb.type=function(a,b){var c,d,e;for(this.selStart!==this.selEnd&&(c=this.el.val(),c=c.substr(0,this.selStart)+c.substr(this.selEnd),this.el.val(c),this.selStart=this.selEnd=null),a=a||"",d=0,e=a.length;e>d;)this.punch(a.charAt(d),b),d+=1;return this},rb.punch=function(a,b){var c,d,e,f,g,h,i=this.el,j=this.scope,k=a.toLowerCase(),l=this.attr("ng-model");return b=b||{},"disabled"!==this.attr("disabled")&&(d=this.key[k],e=this.checkShiftKey(a),c=this.createEvent("keydown",{shiftKey:e,keyCode:d}),this.dispatchEvent(i[0],"keydown",c),this.isEditable&&1===a.length&&(f=this.cursorPosition,g=i.val(),g=g.substr(0,f)+a+g.substr(f),l&&j&&j.$eval(l+' = "'+g+'"'),i.val(g),this.cursorPosition+=1),c=this.createEvent("keyup",{shiftKey:e,keyCode:d}),this.dispatchEvent(i[0],"keyup",c),j&&((h=i.data("$ngModelController"))&&h.$setViewValue(i.val()),this.dispatchEvent(i[0],"change",this.createEvent("change",{})),j.$$phase||j.$apply())),this},rb.attr=function(a){return this.el.attr(a)||this.el.attr("data-"+a)},rb.enter=function(a){return this.punch("enter",a),this},rb.left=function(a){return this.el,this.isEditable?this.cursorPosition-=1:this.punch("left",a),this},rb.up=function(a){return this.punch("up",a),this},rb.right=function(a){return this.el,this.isEditable?this.cursorPosition+=1:this.punch("right",a),this},rb.down=function(a){return this.punch("down",a),this},rb.home=function(a){return this.el,this.isEditable?this.cursorPosition=0:this.punch("home",a),this},rb.end=function(a){var b=this.el;return this.isEditable?this.cursorPosition=b.val().length:this.punch("home",a),this},rb.pageUp=function(a){return this.punch("pageup",a),this},rb.pageDown=function(a){return this.punch("pagedown",a),this},rb.del=function(a){if(this.isEditable){var b=this.el.val(),c=this.cursorPosition;this.el.val(b.substr(0,c)+b.substr(c+1))}else this.punch("delete",a);return this},rb.tab=function(a){return this.punch("tab",a),this},rb.backspace=function(a){if(this.isEditable){var b=this.el.val(),c=this.cursorPosition;this.el.val(b.substr(0,c-1)+b.substr(c)),this.cursorPosition=c-1}else this.punch("backspace",a);return this},rb.capsLock=function(){this.capsLocked=!this.capsLocked},rb.lock=function(){var a=ux.runner.locals.$(document);return a.bind("mousedown",this.killEvent),a.bind("keydown",this.killEvent),a.bind("focus",this.killEvent),a.bind("blur",this.killEvent),this},rb.release=function(){var a=ux.runner.locals.$(document);return a.unbind("mousedown",this.killEvent),a.unbind("keydown",this.killEvent),a.unbind("focus",this.killEvent),a.unbind("blur",this.killEvent),this},rb.killEvent=function(a){a.preventDefault(),a.stopImmediatePropagation()},rb.dispatchEvent=function(a,b,c){return a.dispatchEvent?a.dispatchEvent(c):a.fireEvent&&a.fireEvent("on"+b,c),c},rb.createEvent=function(a,b){var c,d;if(d=ux.runner.locals.$.extend({bubbles:!0,cancelable:!0,view:window,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:0,charCode:0},b),ux.runner.locals.$.isFunction(document.createEvent))if(-1!==a.indexOf("key"))try{c=document.createEvent("KeyEvents"),c.initKeyEvent(a,d.bubbles,d.cancelable,d.view,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.keyCode,d.charCode)}catch(e){c=document.createEvent("Events"),c.initEvent(a,d.bubbles,d.cancelable),ux.runner.locals.$.extend(c,{view:d.view,ctrlKey:d.ctrlKey,altKey:d.altKey,shiftKey:d.shiftKey,metaKey:d.metaKey,keyCode:d.keyCode,charCode:d.charCode})}else c=document.createEvent("HTMLEvents"),c.initEvent(a,!1,!0);else document.createEventObject&&(c=document.createEventObject(),ux.runner.locals.$.extend(c,d));return void 0!==ux.runner.locals.$.browser&&(ux.runner.locals.$.browser.msie||ux.runner.locals.$.browser.opera)&&(c.keyCode=d.charCode>0?d.charCode:d.keyCode,c.charCode=void 0),c},bb.elementMethods.push(function(a){a.sendKeys=function(){var b=ab.apply(null,arguments);return bb.createElementStep(b,a),b}}),bb.inPageMethods.push(function(){"use strict";var a=this.jQuery?this.jQuery.fn:this.angular.element.prototype,b=this.jQuery||this.angular.element;a.getCursorPosition=function(){return 0===this.length?-1:b(this).getSelectionStart()},a.setCursorPosition=function(a){return 0===this.length?this:b(this).setSelection(a,a)},a.getSelection=function(){if(0===this.length)return-1;var a=b(this).getSelectionStart(),c=b(this).getSelectionEnd();return this[0].value.substring(a,c)},a.getSelectionStart=function(){if(0===this.length)return-1;var a,b=this[0],c=b.value.length;return b.createTextRange?(a=ux.runner.locals.window.document.selection.createRange().duplicate(),a.moveEnd("character",b.value.length),""===a.text&&(c=b.value.length),c=b.value.lastIndexOf(a.text)):void 0!==b.selectionStart&&(c=b.selectionStart),c},a.getSelectionEnd=function(){if(0===this.length)return-1;var a,b=this[0],c=b.value.length;return b.createTextRange?(a=document.selection.createRange().duplicate(),a.moveStart("character",-b.value.length),""===a.text&&(c=b.value.length),c=b.value.lastIndexOf(a.text)):void 0!==b.selectionEnd&&(c=b.selectionEnd),c},a.setSelection=function(a,b){if(0===this.length)return this;var c=this[0];if(c.createTextRange){var d=c.createTextRange();d.collapse(!0),d.moveEnd("character",b),d.moveStart("character",a),d.select()}else c.setSelectionRange&&(c.focus(),c.setSelectionRange(a,b));return this}}),bb.elementMethods.push(function(a){function b(a){if(a.click)a.click();else if(document.createEvent){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}a.sendMouse=function(a,c){var d,e=bb.createElementStep({label:"sendMouse",method:function(){return this.element[0].href&&this.element[0].href.length&&b(this.element[0]),e}},this);return c=c?"."+c:"",d=e.trigger("mousedown"+c),a&&(d=d.focus()),d.trigger("mouseup"+c).trigger("click"+c)}}),bb.elementMethods.push(function(a){function b(a){if(a.click)a.click();else if(document.createEvent){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}a.sendTap=function(a,c){var d,e=bb.createElementStep({label:"sendTap",method:function(){return this.element[0].href&&this.element[0].href.length&&b(this.element[0]),e}},this);return c=c?"."+c:"",d=e.trigger("touchstart"+c),a&&(d=d.focus()),d.trigger("touchend"+c).trigger("touchcancel"+c).trigger("click"+c)}}),bb.elementMethods.push(function(a){a.toBe=function(b){var c={label:"toBe "+b,value:void 0,timeout:bb.locals.options.interval,method:function(){},validate:function(){var d=$.trim(a.value)===b;return c.label=d?'toBe "'+b+'"':'expected "'+a.value+'" to be "'+b+'"',d}};return bb.createElementStep(c,a)}})}(this.ux=this.ux||{},function(){return this}());